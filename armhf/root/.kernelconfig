#what arch have
CONFIG_HAVE_PROC_CPU=y
CONFIG_HAVE_KERNEL_GZIP=y
CONFIG_HAVE_KERNEL_LZMA=y
CONFIG_HAVE_KERNEL_XZ=y
CONFIG_HAVE_KERNEL_LZO=y
CONFIG_HAVE_KERNEL_LZ4=y
CONFIG_HAVE_ARCH_AUDITSYSCALL=y
CONFIG_HAVE_UID16=y
CONFIG_HAVE_PERF_EVENTS=y
CONFIG_HAVE_OPROFILE=y
CONFIG_HAVE_EFFICIENT_UNALIGNED_ACCESS=y
CONFIG_HAVE_KPROBES=y
CONFIG_HAVE_KRETPROBES=y
CONFIG_HAVE_ARCH_TRACEHOOK=y
CONFIG_HAVE_DMA_ATTRS=y
CONFIG_HAVE_DMA_CONTIGUOUS=y
CONFIG_HAVE_REGS_AND_STACK_ACCESS_API=y
CONFIG_HAVE_DMA_API_DEBUG=y
CONFIG_HAVE_HW_BREAKPOINT=y
CONFIG_HAVE_PERF_REGS=y
CONFIG_HAVE_PERF_USER_STACK_DUMP=y
CONFIG_HAVE_ARCH_JUMP_LABEL=y
CONFIG_HAVE_ARCH_SECCOMP_FILTER=y
CONFIG_HAVE_CC_STACKPROTECTOR=y
CONFIG_HAVE_CONTEXT_TRACKING=y
CONFIG_HAVE_VIRT_CPU_ACCOUNTING_GEN=y
CONFIG_HAVE_IRQ_TIME_ACCOUNTING=y
CONFIG_HAVE_ARCH_MMAP_RND_BITS=y
CONFIG_HAVE_GENERIC_DMA_COHERENT=y
CONFIG_HAVE_SMP=y
CONFIG_HAVE_ARM_ARCH_TIMER=y
CONFIG_HAVE_ARCH_PFN_VALID=y
CONFIG_HAVE_MEMBLOCK=y
CONFIG_HAVE_NET_DSA=y
CONFIG_HAVE_BPF_JIT=y
CONFIG_HAVE_DEBUG_KMEMLEAK=y
CONFIG_HAVE_FUNCTION_TRACER=y
CONFIG_HAVE_FUNCTION_GRAPH_TRACER=y
CONFIG_HAVE_DYNAMIC_FTRACE=y
CONFIG_HAVE_FTRACE_MCOUNT_RECORD=y
CONFIG_HAVE_SYSCALL_TRACEPOINTS=y
CONFIG_HAVE_C_RECORDMCOUNT=y
CONFIG_HAVE_ARCH_KGDB=y

#what arch support
CONFIG_STACKTRACE_SUPPORT=y
CONFIG_LOCKDEP_SUPPORT=y
CONFIG_TRACE_IRQFLAGS_SUPPORT=y
CONFIG_USB_SUPPORT=y
CONFIG_IOMMU_SUPPORT=y
CONFIG_TRACING_SUPPORT=y
CONFIG_FONT_SUPPORT=y




cat <<EOF
make sure that your kernel enable these configs

/proc/kmsg :
#CONFIG_BOOT_PRINTK_DELAY=y
CONFIG_LOG_BUF_SHIFT=21

/proc/config.gz :
CONFIG_IKCONFIG=y
CONFIG_IKCONFIG_PROC=y

/proc/kallsyms :
CONFIG_KALLSYMS=y
CONFIG_KALLSYMS_ALL=y

/proc/sys && sysctl :
CONFIG_SYSCTL_SYSCALL=y

/proc/<pid>/io :
CONFIG_TASKSTATS=y
CONFIG_TASK_DELAY_ACCT=y
CONFIG_TASK_IO_ACCOUNTING=y

/sys/kernel/debug/tracing/block/ :
CONFIG_BLK_DEV_IO_TRACE=y

PROBE_EVENTS :
Kconfig def_bool n > y
CONFIG_PROBE_EVENTS=y

/sys/kernel/debug/tracing/kprobe_events :
CONFIG_MODULES=y
CONFIG_MODULE_UNLOAD=y
CONFIG_KPROBES=y
CONFIG_KPROBE_EVENT=y

/sys/kernel/debug/tracing/uprobe_events :
CONFIG_UPROBES=y
CONFIG_UPROBE_EVENT=y

ftrace :
CONFIG_FTRACE=y
CONFIG_FUNCTION_TRACER=y
CONFIG_FUNCTION_GRAPH_TRACER=y

/sys/kernel/debug/tracing/available_filter_functions(set_ftrace_filter, set_ftrace_notrace) :
CONFIG_DYNAMIC_FTRACE=y

/sys/kernel/debug/tracing/function_profile_enabled :
CONFIG_FUNCTION_PROFILER=y

/sys/kernel/debug/tracing/events/syscalls :
CONFIG_FTRACE_SYSCALLS=y

tracer :
CONFIG_IRQSOFF_TRACER
CONFIG_PREEMPT_TRACER
CONFIG_SCHED_TRACER
CONFIG_STACK_TRACER

hung :
CONFIG_DETECT_HUNG_TASK=y
CONFIG_DEFAULT_HUNG_TASK_TIMEOUT=120
# CONFIG_BOOTPARAM_HUNG_TASK_PANIC is not set
CONFIG_BOOTPARAM_HUNG_TASK_PANIC_VALUE=0

lock :
CONFIG_DEBUG_SPINLOCK=y
CONFIG_DEBUG_MUTEXES=y
CONFIG_DEBUG_LOCK_ALLOC=y
CONFIG_PROVE_LOCKING=y
CONFIG_LOCKDEP=y
CONFIG_DEBUG_LOCKDEP=y
CONFIG_DEBUG_ATOMIC_SLEEP=y
CONFIG_TRACE_IRQFLAGS=y
CONFIG_STACKTRACE=y

EOF